{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import { useLocation, useNavigate } from \"react-router-dom\";\n// import { useBooks } from \"../../context/BooksContext\";\n// import BookCard from \"../../components/bookcard/BookCard\";\n// import \"./style.css\";\n\n// const Books = () => {\n//   const { books, loading, error, fetchBooks } = useBooks();\n//   const location = useLocation();\n//   const navigate = useNavigate();\n\n//   const params = new URLSearchParams(location.search);\n//   const query = params.get(\"search\") || \"all\";\n//   const page = parseInt(params.get(\"page\")) || 1;\n//   const limit = parseInt(params.get(\"limit\")) || 10;\n\n//   const [debouncedQuery, setDebouncedQuery] = useState(query);\n\n//   useEffect(() => {\n//     const handler = setTimeout(() => {\n//       setDebouncedQuery(query);\n//     }, 500);\n\n//     return () => clearTimeout(handler);\n//   }, [query]);\n\n//   useEffect(() => {\n//     fetchBooks({ query: debouncedQuery, page, limit });\n//   }, [debouncedQuery, page, limit]);\n\n//   const updateParams = (newParams) => {\n//     const p = new URLSearchParams(location.search);\n//     Object.entries(newParams).forEach(([key, value]) => p.set(key, value));\n//     navigate(`/books?${p.toString()}`);\n//   };\n\n//   return (\n//     <main className=\"books-page\">\n//       <h2>Results for: {debouncedQuery}</h2>\n\n//       <div className=\"limit-select\">\n//         <span>Show: </span>\n//         <select\n//           value={limit}\n//           onChange={(e) => updateParams({ limit: e.target.value, page: 1 })}\n//         >\n//           <option value=\"5\">5</option>\n//           <option value=\"10\">10</option>\n//           <option value=\"20\">20</option>\n//           <option value=\"30\">30</option>\n//         </select>\n//       </div>\n\n//       {loading ? (\n//         <div className=\"loader\"></div>\n//       ) : error ? (\n//         <p className=\"error\">Error: {error}</p>\n//       ) : (\n//         <section className=\"books-grid\">\n//           {books.map((book) => (\n//             <BookCard\n//               key={book.key}\n//               image={\n//                 book.cover_i\n//                   ? `https://covers.openlibrary.org/b/id/${book.cover_i}-M.jpg`\n//                   : \"https://via.placeholder.com/150x220?text=No+Cover\"\n//               }\n//               rating={Math.floor(Math.random() * 5) + 1}\n//               title={book.title}\n//               author={book.author_name ? book.author_name[0] : \"Unknown Author\"}\n//               price={Math.floor(Math.random() * 30) + 10}\n//             />\n//           ))}\n//         </section>\n//       )}\n\n//       <div className=\"pagination\">\n//         <button disabled={page <= 1} onClick={() => updateParams({ page: page - 1 })}>\n//           ←\n//         </button>\n//         <span>Page {page}</span>\n//         <button onClick={() => updateParams({ page: page + 1 })}>\n//           →\n//         </button>\n//       </div>\n\n//       {books.length === 0 && !loading && (\n//         <p className=\"no-books\">No books found for \"{debouncedQuery}\".</p>\n//       )}\n//     </main>\n//   );\n// };\n\n// export default Books;\n\n// import React, { useEffect, useState } from \"react\";\n// import { useLocation, useNavigate } from \"react-router-dom\";\n// import { useBooks } from \"../../context/BooksContext\";\n// import { useDebounce } from \"../../hooks/useDebounce\";\n// import BookCard from \"../../components/bookcard/BookCard\";\n// import \"./style.css\";\n\n// const Books = () => {\n//   const { books, loading, error, fetchBooks } = useBooks();\n//   const location = useLocation();\n//   const navigate = useNavigate();\n\n//   const params = new URLSearchParams(location.search);\n//   const query = params.get(\"search\") || \"all\";\n//   const page = parseInt(params.get(\"page\")) || 1;\n//   const limit = parseInt(params.get(\"limit\")) || 10;\n\n//   const debouncedQuery = useDebounce(query, 500);\n\n//   useEffect(() => {\n//     fetchBooks({ query: debouncedQuery, page, limit });\n//   }, [debouncedQuery, page, limit, fetchBooks]);\n\n//   const updateParams = (newParams) => {\n//     const p = new URLSearchParams(location.search);\n//     Object.entries(newParams).forEach(([key, value]) => p.set(key, value));\n//     navigate(`/books?${p.toString()}`);\n//   };\n\n//   return (\n//     <main className=\"books-page\">\n//       <h2>Results for: {debouncedQuery}</h2>\n\n//       <div className=\"limit-select\">\n//         <span>Show: </span>\n//         <select\n//           value={limit}\n//           onChange={(e) => updateParams({ limit: e.target.value, page: 1 })}\n//         >\n//           <option value=\"5\">5</option>\n//           <option value=\"10\">10</option>\n//           <option value=\"20\">20</option>\n//           <option value=\"30\">30</option>\n//         </select>\n//       </div>\n\n//       {loading ? (\n//         <div className=\"loader\"></div>\n//       ) : error ? (\n//         <p className=\"error\">Error: {error}</p>\n//       ) : (\n//         <section className=\"books-grid\">\n//           {books.map((book) => (\n//             <BookCard\n//               key={book.key}\n//               image={\n//                 book.cover_i\n//                   ? `https://covers.openlibrary.org/b/id/${book.cover_i}-M.jpg`\n//                   : \"https://via.placeholder.com/150x220?text=No+Cover\"\n//               }\n//               rating={Math.floor(Math.random() * 5) + 1}\n//               title={book.title}\n//               author={book.author_name ? book.author_name[0] : \"Unknown Author\"}\n//               price={Math.floor(Math.random() * 30) + 10}\n//             />\n//           ))}\n//         </section>\n//       )}\n\n//       <div className=\"pagination\">\n//         <button disabled={page <= 1} onClick={() => updateParams({ page: page - 1 })}>\n//           ←\n//         </button>\n//         <span>Page {page}</span>\n//         <button onClick={() => updateParams({ page: page + 1 })}>\n//           →\n//         </button>\n//       </div>\n\n//       {books.length === 0 && !loading && (\n//         <p className=\"no-books\">No books found for \"{debouncedQuery}\".</p>\n//       )}\n//     </main>\n//   );\n// };\n\n// export default Books;","map":{"version":3,"names":[],"sources":["/Users/alnura/Desktop/BookStore-React/src/pages/books/Books.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\n// import { useLocation, useNavigate } from \"react-router-dom\";\n// import { useBooks } from \"../../context/BooksContext\";\n// import BookCard from \"../../components/bookcard/BookCard\";\n// import \"./style.css\";\n\n// const Books = () => {\n//   const { books, loading, error, fetchBooks } = useBooks();\n//   const location = useLocation();\n//   const navigate = useNavigate();\n\n//   const params = new URLSearchParams(location.search);\n//   const query = params.get(\"search\") || \"all\";\n//   const page = parseInt(params.get(\"page\")) || 1;\n//   const limit = parseInt(params.get(\"limit\")) || 10;\n\n//   const [debouncedQuery, setDebouncedQuery] = useState(query);\n\n//   useEffect(() => {\n//     const handler = setTimeout(() => {\n//       setDebouncedQuery(query);\n//     }, 500);\n\n//     return () => clearTimeout(handler);\n//   }, [query]);\n\n//   useEffect(() => {\n//     fetchBooks({ query: debouncedQuery, page, limit });\n//   }, [debouncedQuery, page, limit]);\n\n//   const updateParams = (newParams) => {\n//     const p = new URLSearchParams(location.search);\n//     Object.entries(newParams).forEach(([key, value]) => p.set(key, value));\n//     navigate(`/books?${p.toString()}`);\n//   };\n\n//   return (\n//     <main className=\"books-page\">\n//       <h2>Results for: {debouncedQuery}</h2>\n\n//       <div className=\"limit-select\">\n//         <span>Show: </span>\n//         <select\n//           value={limit}\n//           onChange={(e) => updateParams({ limit: e.target.value, page: 1 })}\n//         >\n//           <option value=\"5\">5</option>\n//           <option value=\"10\">10</option>\n//           <option value=\"20\">20</option>\n//           <option value=\"30\">30</option>\n//         </select>\n//       </div>\n\n//       {loading ? (\n//         <div className=\"loader\"></div>\n//       ) : error ? (\n//         <p className=\"error\">Error: {error}</p>\n//       ) : (\n//         <section className=\"books-grid\">\n//           {books.map((book) => (\n//             <BookCard\n//               key={book.key}\n//               image={\n//                 book.cover_i\n//                   ? `https://covers.openlibrary.org/b/id/${book.cover_i}-M.jpg`\n//                   : \"https://via.placeholder.com/150x220?text=No+Cover\"\n//               }\n//               rating={Math.floor(Math.random() * 5) + 1}\n//               title={book.title}\n//               author={book.author_name ? book.author_name[0] : \"Unknown Author\"}\n//               price={Math.floor(Math.random() * 30) + 10}\n//             />\n//           ))}\n//         </section>\n//       )}\n\n//       <div className=\"pagination\">\n//         <button disabled={page <= 1} onClick={() => updateParams({ page: page - 1 })}>\n//           ←\n//         </button>\n//         <span>Page {page}</span>\n//         <button onClick={() => updateParams({ page: page + 1 })}>\n//           →\n//         </button>\n//       </div>\n\n//       {books.length === 0 && !loading && (\n//         <p className=\"no-books\">No books found for \"{debouncedQuery}\".</p>\n//       )}\n//     </main>\n//   );\n// };\n\n// export default Books;\n\n// import React, { useEffect, useState } from \"react\";\n// import { useLocation, useNavigate } from \"react-router-dom\";\n// import { useBooks } from \"../../context/BooksContext\";\n// import { useDebounce } from \"../../hooks/useDebounce\";\n// import BookCard from \"../../components/bookcard/BookCard\";\n// import \"./style.css\";\n\n// const Books = () => {\n//   const { books, loading, error, fetchBooks } = useBooks();\n//   const location = useLocation();\n//   const navigate = useNavigate();\n\n//   const params = new URLSearchParams(location.search);\n//   const query = params.get(\"search\") || \"all\";\n//   const page = parseInt(params.get(\"page\")) || 1;\n//   const limit = parseInt(params.get(\"limit\")) || 10;\n\n//   const debouncedQuery = useDebounce(query, 500);\n\n//   useEffect(() => {\n//     fetchBooks({ query: debouncedQuery, page, limit });\n//   }, [debouncedQuery, page, limit, fetchBooks]);\n\n//   const updateParams = (newParams) => {\n//     const p = new URLSearchParams(location.search);\n//     Object.entries(newParams).forEach(([key, value]) => p.set(key, value));\n//     navigate(`/books?${p.toString()}`);\n//   };\n\n//   return (\n//     <main className=\"books-page\">\n//       <h2>Results for: {debouncedQuery}</h2>\n\n//       <div className=\"limit-select\">\n//         <span>Show: </span>\n//         <select\n//           value={limit}\n//           onChange={(e) => updateParams({ limit: e.target.value, page: 1 })}\n//         >\n//           <option value=\"5\">5</option>\n//           <option value=\"10\">10</option>\n//           <option value=\"20\">20</option>\n//           <option value=\"30\">30</option>\n//         </select>\n//       </div>\n\n//       {loading ? (\n//         <div className=\"loader\"></div>\n//       ) : error ? (\n//         <p className=\"error\">Error: {error}</p>\n//       ) : (\n//         <section className=\"books-grid\">\n//           {books.map((book) => (\n//             <BookCard\n//               key={book.key}\n//               image={\n//                 book.cover_i\n//                   ? `https://covers.openlibrary.org/b/id/${book.cover_i}-M.jpg`\n//                   : \"https://via.placeholder.com/150x220?text=No+Cover\"\n//               }\n//               rating={Math.floor(Math.random() * 5) + 1}\n//               title={book.title}\n//               author={book.author_name ? book.author_name[0] : \"Unknown Author\"}\n//               price={Math.floor(Math.random() * 30) + 10}\n//             />\n//           ))}\n//         </section>\n//       )}\n\n//       <div className=\"pagination\">\n//         <button disabled={page <= 1} onClick={() => updateParams({ page: page - 1 })}>\n//           ←\n//         </button>\n//         <span>Page {page}</span>\n//         <button onClick={() => updateParams({ page: page + 1 })}>\n//           →\n//         </button>\n//       </div>\n\n//       {books.length === 0 && !loading && (\n//         <p className=\"no-books\">No books found for \"{debouncedQuery}\".</p>\n//       )}\n//     </main>\n//   );\n// };\n\n// export default Books;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}