{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from \"react-router-dom\";\nimport BookCard from '../../components/bookcard/BookCard';\nconst Books = () => {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const location = useLocation();\n  const params = new URLSearchParams(location.search);\n  const query = params.get(\"search\") || \"all\";\n  useEffect(() => {\n    fetch(\"https://openlibrary.org/search.json?q=all\").then(res => res.json()).then(data => {\n      setBooks(data.docs);\n      setLoading(false);\n    }).catch(err => {\n      console.error(\"Error fetching books:\", err);\n      setLoading(false);\n    });\n  }\n\n  // // useEffect(() => {\n  // //   setLoading(true);\n  // //   setError(null);\n\n  // //   fetch(`https://openlibrary.org/search.json?q=${query}`)\n  // //     .then((res) => res.json())\n  // //     .then((data) => {\n  // //       const results = data.docs.slice(0, 5).map((book) => ({\n  // //         id: book.key,\n  // //         title: book.title,\n  // //         author: book.author_name ? book.author_name[0] : \"Unknown Author\",\n  // //         cover: book.cover_i\n  // //           ? `https://covers.openlibrary.org/b/id/${book.cover_i}-M.jpg`\n  // //           : \"https://via.placeholder.com/150x220?text=No+Cover\",\n  // //         price: (Math.random() * (30 - 10) + 10).toFixed(2),\n  // //         rating: Math.floor(Math.random() * 5) + 1,\n  // //       }));\n  // //       setBooks(results);\n  // //       setLoading(false);\n  // //     })\n  // //     .catch((err) => {\n  // //       setError(err.message);\n  // //       setLoading(false);\n  // //     });\n  // // }, [query]);\n\n  // // if (loading) return <p className=\"loading\">Loading books...</p>;\n  // // if (error) return <p className=\"error\">Error: {error}</p>;\n\n  // // return (\n  // //   <main className=\"books-page\">\n  // //     <div className=\"books\">\n  // //       {books.map((book) => (\n  // //         <BookCard\n  // //           key={book.id}\n  // //           image={book.cover}\n  // //           rating={book.rating}\n  // //           title={book.title}\n  // //           author={book.author}\n  // //           price={book.price}\n  // //         />\n  // //       ))}\n  //     </div>\n  //   </main>\n  );\n};\n_s(Books, \"GDntHPi1hhGZkvVZdM4RJsYjNUE=\", false, function () {\n  return [useLocation];\n});\n_c = Books;\nexport default Books;\nvar _c;\n$RefreshReg$(_c, \"Books\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","BookCard","Books","_s","books","setBooks","loading","setLoading","error","setError","location","params","URLSearchParams","search","query","get","fetch","then","res","json","data","docs","catch","err","console","_c","$RefreshReg$"],"sources":["/Users/alnura/Desktop/My Projects/bookstore/src/pages/books/Books.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation } from \"react-router-dom\";\nimport BookCard from '../../components/bookcard/BookCard';\n\nconst Books = () => {\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const location = useLocation();\n  const params = new URLSearchParams(location.search);\n  const query = params.get(\"search\") || \"all\"; \n\n  useEffect(() => {\n    fetch(\"https://openlibrary.org/search.json?q=all\")\n      .then((res) => res.json())\n      .then((data) => {\n        setBooks(data.docs);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.error(\"Error fetching books:\", err);\n        setLoading(false);\n      });\n  }\n\n\n\n  // // useEffect(() => {\n  // //   setLoading(true);\n  // //   setError(null);\n\n  // //   fetch(`https://openlibrary.org/search.json?q=${query}`)\n  // //     .then((res) => res.json())\n  // //     .then((data) => {\n  // //       const results = data.docs.slice(0, 5).map((book) => ({\n  // //         id: book.key,\n  // //         title: book.title,\n  // //         author: book.author_name ? book.author_name[0] : \"Unknown Author\",\n  // //         cover: book.cover_i\n  // //           ? `https://covers.openlibrary.org/b/id/${book.cover_i}-M.jpg`\n  // //           : \"https://via.placeholder.com/150x220?text=No+Cover\",\n  // //         price: (Math.random() * (30 - 10) + 10).toFixed(2),\n  // //         rating: Math.floor(Math.random() * 5) + 1,\n  // //       }));\n  // //       setBooks(results);\n  // //       setLoading(false);\n  // //     })\n  // //     .catch((err) => {\n  // //       setError(err.message);\n  // //       setLoading(false);\n  // //     });\n  // // }, [query]);\n\n  // // if (loading) return <p className=\"loading\">Loading books...</p>;\n  // // if (error) return <p className=\"error\">Error: {error}</p>;\n\n  // // return (\n  // //   <main className=\"books-page\">\n  // //     <div className=\"books\">\n  // //       {books.map((book) => (\n  // //         <BookCard\n  // //           key={book.id}\n  // //           image={book.cover}\n  // //           rating={book.rating}\n  // //           title={book.title}\n  // //           author={book.author}\n  // //           price={book.price}\n  // //         />\n  // //       ))}\n  //     </div>\n  //   </main>\n  );\n};\n\nexport default Books;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,QAAQ,MAAM,oCAAoC;AAEzD,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMY,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAC9B,MAAMW,MAAM,GAAG,IAAIC,eAAe,CAACF,QAAQ,CAACG,MAAM,CAAC;EACnD,MAAMC,KAAK,GAAGH,MAAM,CAACI,GAAG,CAAC,QAAQ,CAAC,IAAI,KAAK;EAE3ChB,SAAS,CAAC,MAAM;IACdiB,KAAK,CAAC,2CAA2C,CAAC,CAC/CC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAK;MACdf,QAAQ,CAACe,IAAI,CAACC,IAAI,CAAC;MACnBd,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,CACDe,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAAChB,KAAK,CAAC,uBAAuB,EAAEe,GAAG,CAAC;MAC3ChB,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;EACN;;EAIA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,CAAC;AACH,CAAC;AAACJ,EAAA,CArEID,KAAK;EAAA,QAKQF,WAAW;AAAA;AAAAyB,EAAA,GALxBvB,KAAK;AAuEX,eAAeA,KAAK;AAAC,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}