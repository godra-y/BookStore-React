{"ast":null,"code":"var _jsxFileName = \"/Users/alnura/Desktop/My Projects/bookstore/src/pages/book-detail/BookDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useBooks } from '../../context/BooksContext'; // ✅\nimport BookCard from '../../components/bookcard/BookCard';\nimport starIcon from './../../img/icons/star.svg';\nimport likeIcon from './../../img/icons/like.svg';\nimport likeFilledIcon from './../../img/icons/like-filled.svg';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookDetail = () => {\n  _s();\n  const {\n    title\n  } = useParams();\n  const {\n    fetchBookDetail,\n    loading\n  } = useBooks(); // ✅ получаем из контекста\n  const [book, setBook] = useState(null);\n  const [relatedBooks, setRelatedBooks] = useState([]);\n  const [liked, setLiked] = useState(false);\n  const [inCart, setInCart] = useState(false);\n  useEffect(() => {\n    const loadBook = async () => {\n      var _b$author_name, _b$author_name2;\n      const b = await fetchBookDetail(title);\n      if (!b) return;\n      const bookData = {\n        title: b.title,\n        author: ((_b$author_name = b.author_name) === null || _b$author_name === void 0 ? void 0 : _b$author_name.join(', ')) || 'Unknown',\n        cover: b.cover_i ? `https://covers.openlibrary.org/b/id/${b.cover_i}-L.jpg` : null,\n        price: Math.floor(Math.random() * 40) + 10,\n        rating: Math.floor(Math.random() * 5) + 1\n      };\n      setBook(bookData);\n      const rel = await fetch(`https://openlibrary.org/search.json?author=${((_b$author_name2 = b.author_name) === null || _b$author_name2 === void 0 ? void 0 : _b$author_name2[0]) || b.title}`);\n      const relData = await rel.json();\n      setRelatedBooks(relData.docs.slice(0, 5));\n    };\n    loadBook();\n  }, [title]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"book-detail\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 7\n  }, this);\n  if (!book) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"book-detail__empty\",\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Book not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 7\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"book-detail\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(BookDetail, \"ZbaZkxYMFB/w+GJDykFaJD788sY=\", false, function () {\n  return [useParams, useBooks];\n});\n_c = BookDetail;\nexport default BookDetail;\nvar _c;\n$RefreshReg$(_c, \"BookDetail\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useBooks","BookCard","starIcon","likeIcon","likeFilledIcon","jsxDEV","_jsxDEV","BookDetail","_s","title","fetchBookDetail","loading","book","setBook","relatedBooks","setRelatedBooks","liked","setLiked","inCart","setInCart","loadBook","_b$author_name","_b$author_name2","b","bookData","author","author_name","join","cover","cover_i","price","Math","floor","random","rating","rel","fetch","relData","json","docs","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/alnura/Desktop/My Projects/bookstore/src/pages/book-detail/BookDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useBooks } from '../../context/BooksContext'; // ✅\nimport BookCard from '../../components/bookcard/BookCard';\nimport starIcon from './../../img/icons/star.svg';\nimport likeIcon from './../../img/icons/like.svg';\nimport likeFilledIcon from './../../img/icons/like-filled.svg';\nimport './style.css';\n\nconst BookDetail = () => {\n  const { title } = useParams();\n  const { fetchBookDetail, loading } = useBooks(); // ✅ получаем из контекста\n  const [book, setBook] = useState(null);\n  const [relatedBooks, setRelatedBooks] = useState([]);\n  const [liked, setLiked] = useState(false);\n  const [inCart, setInCart] = useState(false);\n\n  useEffect(() => {\n    const loadBook = async () => {\n      const b = await fetchBookDetail(title);\n      if (!b) return;\n\n      const bookData = {\n        title: b.title,\n        author: b.author_name?.join(', ') || 'Unknown',\n        cover: b.cover_i\n          ? `https://covers.openlibrary.org/b/id/${b.cover_i}-L.jpg`\n          : null,\n        price: Math.floor(Math.random() * 40) + 10,\n        rating: Math.floor(Math.random() * 5) + 1,\n      };\n      setBook(bookData);\n\n      const rel = await fetch(\n        `https://openlibrary.org/search.json?author=${b.author_name?.[0] || b.title}`\n      );\n      const relData = await rel.json();\n      setRelatedBooks(relData.docs.slice(0, 5));\n    };\n\n    loadBook();\n  }, [title]);\n\n  if (loading)\n    return (\n      <main className=\"book-detail\">\n        <div className=\"loader\"></div>\n      </main>\n    );\n\n  if (!book)\n    return (\n      <div className=\"book-detail__empty\">\n        <p>Book not found</p>\n      </div>\n    );\n\n  return (\n    <main className=\"book-detail\">\n      {/* ... остальной код без изменений */}\n    </main>\n  );\n};\n\nexport default BookDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}